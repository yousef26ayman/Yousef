let t,e,i,s,n,a;var r,o,h,c,l,d,u,p,f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},g={},m={},I=f.parcelRequireeaa3;null==I&&((I=function(t){if(t in g)return g[t].exports;if(t in m){var e=m[t];delete m[t];var i={id:t,exports:{}};return g[t]=i,e.call(i.exports,i,i.exports),i.exports}var s=Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){m[t]=e},f.parcelRequireeaa3=I),I.register;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T={},E=T={};function y(){throw Error("setTimeout has not been defined")}function S(){throw Error("clearTimeout has not been defined")}function v(t){if(l===setTimeout)return setTimeout(t,0);if((l===y||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}!function(){try{l="function"==typeof setTimeout?setTimeout:y}catch(t){l=y}try{d="function"==typeof clearTimeout?clearTimeout:S}catch(t){d=S}}();var C=[],D=!1,w=-1;function b(){D&&u&&(D=!1,u.length?C=u.concat(C):w=-1,C.length&&_())}function _(){if(!D){var t=v(b);D=!0;for(var e=C.length;e;){for(u=C,C=[];++w<e;)u&&u[w].run();w=-1,e=C.length}u=null,D=!1,function(t){if(d===clearTimeout)return clearTimeout(t);if((d===S||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}(t)}}function A(t,e){this.fun=t,this.array=e}function P(){}E.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];C.push(new A(t,e)),1!==C.length||D||v(_)},A.prototype.run=function(){this.fun.apply(null,this.array)},E.title="browser",E.browser=!0,E.env={},E.argv=[],E.version="",E.versions={},E.on=P,E.addListener=P,E.once=P,E.off=P,E.removeListener=P,E.removeAllListeners=P,E.emit=P,E.prependListener=P,E.prependOnceListener=P,E.listeners=function(t){return[]},E.binding=function(t){throw Error("process.binding is not supported")},E.cwd=function(){return"/"},E.chdir=function(t){throw Error("process.chdir is not supported")},E.umask=function(){return 0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t){let e=[],i=0;for(let s=0;s<t.length;s++){let n=t.charCodeAt(s);n<128?e[i++]=n:(n<2048?e[i++]=n>>6|192:((64512&n)==55296&&s+1<t.length&&(64512&t.charCodeAt(s+1))==56320?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++s)),e[i++]=n>>18|240,e[i++]=n>>12&63|128):e[i++]=n>>12|224,e[i++]=n>>6&63|128),e[i++]=63&n|128)}return e},H=function(t){let e=[],i=0,s=0;for(;i<t.length;){let n=t[i++];if(n<128)e[s++]=String.fromCharCode(n);else if(n>191&&n<224){let a=t[i++];e[s++]=String.fromCharCode((31&n)<<6|63&a)}else if(n>239&&n<365){let a=((7&n)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536;e[s++]=String.fromCharCode(55296+(a>>10)),e[s++]=String.fromCharCode(56320+(1023&a))}else{let a=t[i++],r=t[i++];e[s++]=String.fromCharCode((15&n)<<12|(63&a)<<6|63&r)}}return e.join("")},R={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let e=0;e<t.length;e+=3){let n=t[e],a=e+1<t.length,r=a?t[e+1]:0,o=e+2<t.length,h=o?t[e+2]:0,c=n>>2,l=(3&n)<<4|r>>4,d=(15&r)<<2|h>>6,u=63&h;o||(u=64,a||(d=64)),s.push(i[c],i[l],i[d],i[u])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(O(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):H(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let e=0;e<t.length;){let n=i[t.charAt(e++)],a=e<t.length?i[t.charAt(e)]:0,r=++e<t.length?i[t.charAt(e)]:64,o=++e<t.length?i[t.charAt(e)]:64;if(++e,null==n||null==a||null==r||null==o)throw new x;let h=n<<2|a>>4;if(s.push(h),64!==r){let t=a<<4&240|r>>2;if(s.push(t),64!==o){let t=r<<6&192|o;s.push(t)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N=function(t){let e=O(t);return R.encodeByteArray(e,!0)},M=function(t){return N(t).replace(/\./g,"")},L=function(t){try{return R.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},B=()=>/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==f)return f;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,F=()=>{if(void 0===T||void 0===T.env)return;let t=void 0;if(t)return JSON.parse(t)},U=()=>{let t;if("undefined"==typeof document)return;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}let e=t&&L(t[1]);return e&&JSON.parse(e)},G=()=>{try{return B()||F()||U()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},k=()=>{var t;return null===(t=G())||void 0===t?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}function j(){try{return"object"==typeof indexedDB}catch(t){return!1}}function V(){return new Promise((t,e)=>{try{let i=!0,s="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(s);n.onsuccess=()=>{n.result.close(),i||self.indexedDB.deleteDatabase(s),t(!0)},n.onupgradeneeded=()=>{i=!1},n.onerror=()=>{var t;e((null===(t=n.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})}class Y extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Y.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,z.prototype.create)}}class z{create(t,...e){let i=e[0]||{},s=`${this.service}/${t}`,n=this.errors[t],a=n?n.replace($,(t,e)=>{let s=i[e];return null!=s?String(s):`<${e}?>`}):"Error",r=`${this.serviceName}: ${a} (${s}).`;return new Y(s,r,i)}constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}}const $=/\{\$([^}]+)}/g;function X(t,e){if(t===e)return!0;let i=Object.keys(t),s=Object.keys(e);for(let n of i){if(!s.includes(n))return!1;let i=t[n],a=e[n];if(K(i)&&K(a)){if(!X(i,a))return!1}else if(i!==a)return!1}for(let t of s)if(!i.includes(t))return!1;return!0}function K(t){return null!==t&&"object"==typeof t}function J(t,e=1e3,i=2){let s=e*Math.pow(i,t),n=Math.round(.5*s*(Math.random()-.5)*2);return Math.min(144e5,s+n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t){return t&&t._delegate?t._delegate:t}class Z{setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let t=new W;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:e});i&&t.resolve(i)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;let i=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),s=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(s)return null;throw t}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if("EAGER"===t.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Q})}catch(t){}for(let[t,e]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let t=this.getOrInitializeService({instanceIdentifier:i});e.resolve(t)}catch(t){}}}}clearInstance(t=Q){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){let t=Array.from(this.instances.values());await Promise.all([...t.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...t.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return null!=this.component}isInitialized(t=Q){return this.instances.has(t)}getOptions(t=Q){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(let[t,e]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(t)&&e.resolve(s);return s}onInit(t,e){var i;let s=this.normalizeInstanceIdentifier(e),n=null!==(i=this.onInitCallbacks.get(s))&&void 0!==i?i:new Set;n.add(t),this.onInitCallbacks.set(s,n);let a=this.instances.get(s);return a&&t(a,s),()=>{n.delete(t)}}invokeOnInitCallbacks(t,e){let i=this.onInitCallbacks.get(e);if(i)for(let s of i)try{s(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:t===Q?void 0:t,options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(t){}return i||null}normalizeInstanceIdentifier(t=Q){return this.component?this.component.multipleInstances?t:Q:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new tt(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}constructor(t){this.name=t,this.providers=new Map}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=[];(c=p={})[c.DEBUG=0]="DEBUG",c[c.VERBOSE=1]="VERBOSE",c[c.INFO=2]="INFO",c[c.WARN=3]="WARN",c[c.ERROR=4]="ERROR",c[c.SILENT=5]="SILENT";const ts={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},tn=p.INFO,ta={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},tr=(t,e,...i)=>{if(e<t.logLevel)return;let s=new Date().toISOString(),n=ta[e];if(n)console[n](`[${s}]  ${t.name}:`,...i);else throw Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class to{get logLevel(){return this._logLevel}set logLevel(t){if(!(t in p))throw TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?ts[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...t),this._logHandler(this,p.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...t),this._logHandler(this,p.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,p.INFO,...t),this._logHandler(this,p.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,p.WARN,...t),this._logHandler(this,p.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,p.ERROR,...t),this._logHandler(this,p.ERROR,...t)}constructor(t){this.name=t,this._logLevel=tn,this._logHandler=tr,this._userLogHandler=null,ti.push(this)}}const th=(t,e)=>e.some(e=>t instanceof e),tc=new WeakMap,tl=new WeakMap,td=new WeakMap,tu=new WeakMap,tp=new WeakMap;let tf={get(t,e,i){if(t instanceof IDBTransaction){if("done"===e)return tl.get(t);if("objectStoreNames"===e)return t.objectStoreNames||td.get(t);if("store"===e)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return tg(t[e])},set:(t,e,i)=>(t[e]=i,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function tg(i){var s;if(i instanceof IDBRequest)return function(t){let e=new Promise((e,i)=>{let s=()=>{t.removeEventListener("success",n),t.removeEventListener("error",a)},n=()=>{e(tg(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",n),t.addEventListener("error",a)});return e.then(e=>{e instanceof IDBCursor&&tc.set(e,t)}).catch(()=>{}),tp.set(e,t),e}(i);if(tu.has(i))return tu.get(i);let n="function"==typeof(s=i)?s!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(e||(e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(s)?function(...t){return s.apply(tm(this),t),tg(tc.get(this))}:function(...t){return tg(s.apply(tm(this),t))}:function(t,...e){let i=s.call(tm(this),t,...e);return td.set(i,t.sort?t.sort():[t]),tg(i)}:(s instanceof IDBTransaction&&function(t){if(tl.has(t))return;let e=new Promise((e,i)=>{let s=()=>{t.removeEventListener("complete",n),t.removeEventListener("error",a),t.removeEventListener("abort",a)},n=()=>{e(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",n),t.addEventListener("error",a),t.addEventListener("abort",a)});tl.set(t,e)}(s),th(s,t||(t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(s,tf):s;return n!==i&&(tu.set(i,n),tp.set(n,i)),n}const tm=t=>tp.get(t);function tI(t,e,{blocked:i,upgrade:s,blocking:n,terminated:a}={}){let r=indexedDB.open(t,e),o=tg(r);return s&&r.addEventListener("upgradeneeded",t=>{s(tg(r.result),t.oldVersion,t.newVersion,tg(r.transaction),t)}),i&&r.addEventListener("blocked",t=>i(t.oldVersion,t.newVersion,t)),o.then(t=>{a&&t.addEventListener("close",()=>a()),n&&t.addEventListener("versionchange",t=>n(t.oldVersion,t.newVersion,t))}).catch(()=>{}),o}const tT=["get","getKey","getAll","getAllKeys","count"],tE=["put","add","delete","clear"],ty=new Map;function tS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&"string"==typeof e))return;if(ty.get(e))return ty.get(e);let i=e.replace(/FromIndex$/,""),s=e!==i,n=tE.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(n||tT.includes(i)))return;let a=async function(t,...e){let a=this.transaction(t,n?"readwrite":"readonly"),r=a.store;return s&&(r=r.index(e.shift())),(await Promise.all([r[i](...e),n&&a.done]))[0]};return ty.set(e,a),a}o=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),s.forEach(function(e){var s;s=i[e],e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s})}return t}({},r=tf),h=h={get:(t,e,i)=>tS(t,e)||r.get(t,e,i),has:(t,e)=>!!tS(t,e)||r.has(t,e)},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(h)):(function(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i.push.apply(i,s)}return i})(Object(h)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(h,t))}),tf=o;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{getPlatformInfoString(){return this.container.getProviders().map(t=>{if(!function(t){let e=t.getComponent();return(null==e?void 0:e.type)==="VERSION"}(t))return null;{let e=t.getImmediate();return`${e.library}/${e.version}`}}).filter(t=>t).join(" ")}constructor(t){this.container=t}}const tC="@firebase/app",tD="0.10.10",tw=new to("@firebase/app"),tb="[DEFAULT]",t_={[tC]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},tA=new Map,tP=new Map,tO=new Map;function tH(t,e){try{t.container.addComponent(e)}catch(i){tw.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function tR(t){let e=t.name;if(tO.has(e))return tw.debug(`There were multiple attempts to register component ${e}.`),!1;for(let i of(tO.set(e,t),tA.values()))tH(i,t);for(let e of tP.values())tH(e,t);return!0}function tx(t,e){let i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}const tN=new z("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tN.create("app-deleted",{appName:this._name})}constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Z("app",()=>this,"PUBLIC"))}}function tL(t,e={}){let i=t;"object"!=typeof e&&(e={name:e});let s=Object.assign({name:tb,automaticDataCollectionEnabled:!1},e),n=s.name;if("string"!=typeof n||!n)throw tN.create("bad-app-name",{appName:String(n)});if(i||(i=k()),!i)throw tN.create("no-options");let a=tA.get(n);if(a){if(X(i,a.options)&&X(s,a.config))return a;throw tN.create("duplicate-app",{appName:n})}let r=new te(n);for(let t of tO.values())r.addComponent(t);let o=new tM(i,s,r);return tA.set(n,o),o}function tB(t,e,i){var s;let n=null!==(s=t_[t])&&void 0!==s?s:t;i&&(n+=`-${i}`);let a=n.match(/\s|\//),r=e.match(/\s|\//);if(a||r){let t=[`Unable to register library "${n}" with version "${e}":`];a&&t.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&r&&t.push("and"),r&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tw.warn(t.join(" "));return}tR(new Z(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}const tF="firebase-heartbeat-store";let tU=null;function tG(){return tU||(tU=tI("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(tF)}catch(t){console.warn(t)}}}).catch(t=>{throw tN.create("idb-open",{originalErrorMessage:t.message})})),tU}async function tk(t){try{let e=(await tG()).transaction(tF),i=await e.objectStore(tF).get(tj(t));return await e.done,i}catch(t){if(t instanceof Y)tw.warn(t.message);else{let e=tN.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});tw.warn(e.message)}}}async function tW(t,e){try{let i=(await tG()).transaction(tF,"readwrite"),s=i.objectStore(tF);await s.put(e,tj(t)),await i.done}catch(t){if(t instanceof Y)tw.warn(t.message);else{let e=tN.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});tw.warn(e.message)}}}function tj(t){return`${t.name}!${t.options.appId}`}class tV{async triggerHeartbeat(){var t,e;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tY();if((null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(t=>t.date===s))return;return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(t=>{let e=new Date(t.date).valueOf();return Date.now()-e<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(t){tw.warn(t)}}async getHeartbeatsHeader(){var t;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let e=tY(),{heartbeatsToSend:i,unsentEntries:s}=function(t,e=1024){let i=[],s=t.slice();for(let n of t){let t=i.find(t=>t.agent===n.agent);if(t){if(t.dates.push(n.date),t$(i)>e){t.dates.pop();break}}else if(i.push({agent:n.agent,dates:[n.date]}),t$(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}(this._heartbeatsCache.heartbeats),n=M(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}catch(t){return tw.warn(t),""}}constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new tz(e),this._heartbeatsCachePromise=this._storage.read().then(t=>(this._heartbeatsCache=t,t))}}function tY(){return new Date().toISOString().substring(0,10)}class tz{async runIndexedDBEnvironmentCheck(){return!!j()&&V().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let t=await tk(this.app);return(null==t?void 0:t.heartbeats)?t:{heartbeats:[]}}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){let i=await this.read();return tW(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){let i=await this.read();return tW(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}}constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}}function t$(t){return M(JSON.stringify({version:2,heartbeats:t})).length}tR(new Z("platform-logger",t=>new tv(t),"PRIVATE")),tR(new Z("heartbeat",t=>new tV(t),"PRIVATE")),tB(tC,tD,""),tB(tC,tD,"esm2017"),tB("fire-js",""),tB("firebase","10.13.1","app");const tX="@firebase/installations",tK="0.6.8",tJ=`w:${tK}`,tq="FIS_v2",tZ=new z("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tQ(t){return t instanceof Y&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function t1(t){return{token:t.token,requestStatus:2,expiresIn:Number(t.expiresIn.replace("s","000")),creationTime:Date.now()}}async function t2(t,e){let i=(await e.json()).error;return tZ.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function t3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}async function t6(t){let e=await t();return e.status>=500&&e.status<600?t():e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4({appConfig:t,heartbeatServiceProvider:e},{fid:i}){let s=t0(t),n=t3(t),a=e.getImmediate({optional:!0});if(a){let t=await a.getHeartbeatsHeader();t&&n.append("x-firebase-client",t)}let r={method:"POST",headers:n,body:JSON.stringify({fid:i,authVersion:tq,appId:t.appId,sdkVersion:tJ})},o=await t6(()=>fetch(s,r));if(o.ok){let t=await o.json();return{fid:t.fid||i,registrationStatus:2,refreshToken:t.refreshToken,authToken:t1(t.authToken)}}throw await t2("Create Installation",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=/^[cdef][\w-]{21}$/;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=new Map;function et(t,e){let i=t7(t);ee(i,e),function(t,e){let i=(!ei&&"BroadcastChannel"in self&&((ei=new BroadcastChannel("[Firebase] FID Change")).onmessage=t=>{ee(t.data.key,t.data.fid)}),ei);i&&i.postMessage({key:t,fid:e}),0===t9.size&&ei&&(ei.close(),ei=null)}(i,e)}function ee(t,e){let i=t9.get(t);if(i)for(let t of i)t(e)}let ei=null;const es="firebase-installations-store";let en=null;function ea(){return en||(en=tI("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(es)}})),en}async function er(t,e){let i=t7(t),s=(await ea()).transaction(es,"readwrite"),n=s.objectStore(es),a=await n.get(i);return await n.put(e,i),await s.done,a&&a.fid===e.fid||et(t,e.fid),e}async function eo(t){let e=t7(t),i=(await ea()).transaction(es,"readwrite");await i.objectStore(es).delete(e),await i.done}async function eh(t,e){let i=t7(t),s=(await ea()).transaction(es,"readwrite"),n=s.objectStore(es),a=await n.get(i),r=e(a);return void 0===r?await n.delete(i):await n.put(r,i),await s.done,r&&(!a||a.fid!==r.fid)&&et(t,r.fid),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(t){let e;let i=await eh(t.appConfig,i=>{let s=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(tZ.create("app-offline"))};let i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=el(t,i);return{installationEntry:i,registrationPromise:s}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ed(t)}:{installationEntry:e}}(t,ep(i||{fid:function(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let e=btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22);return t8.test(e)?e:""}catch(t){return""}}(),registrationStatus:0}));return e=s.registrationPromise,s.installationEntry});return""===i.fid?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}async function el(t,e){try{let i=await t4(t,e);return er(t.appConfig,i)}catch(i){throw tQ(i)&&409===i.customData.serverCode?await eo(t.appConfig):await er(t.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function ed(t){let e=await eu(t.appConfig);for(;1===e.registrationStatus;)await t5(100),e=await eu(t.appConfig);if(0===e.registrationStatus){let{installationEntry:e,registrationPromise:i}=await ec(t);return i||e}return e}function eu(t){return eh(t,t=>{if(!t)throw tZ.create("installation-not-found");return ep(t)})}function ep(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef({appConfig:t,heartbeatServiceProvider:e},i){let s=function(t,{fid:e}){return`${t0(t)}/${e}/authTokens:generate`}(t,i),n=function(t,{refreshToken:e}){let i=t3(t);return i.append("Authorization",`${tq} ${e}`),i}(t,i),a=e.getImmediate({optional:!0});if(a){let t=await a.getHeartbeatsHeader();t&&n.append("x-firebase-client",t)}let r={method:"POST",headers:n,body:JSON.stringify({installation:{sdkVersion:tJ,appId:t.appId}})},o=await t6(()=>fetch(s,r));if(o.ok)return t1(await o.json());throw await t2("Generate Auth Token",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eg(t,e=!1){let i;let s=await eh(t.appConfig,s=>{var n;if(!eE(s))throw tZ.create("not-registered");let a=s.authToken;if(!e&&2===(n=a).requestStatus&&!function(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(n))return s;if(1===a.requestStatus)return i=em(t,e),s;{if(!navigator.onLine)throw tZ.create("app-offline");let e=function(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return i=eT(t,e),e}});return i?await i:s.authToken}async function em(t,e){let i=await eI(t.appConfig);for(;1===i.authToken.requestStatus;)await t5(100),i=await eI(t.appConfig);let s=i.authToken;return 0===s.requestStatus?eg(t,e):s}function eI(t){return eh(t,t=>{var e;if(!eE(t))throw tZ.create("not-registered");return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function eT(t,e){try{let i=await ef(t,e),s=Object.assign(Object.assign({},e),{authToken:i});return await er(t.appConfig,s),i}catch(i){if(tQ(i)&&(401===i.customData.serverCode||404===i.customData.serverCode))await eo(t.appConfig);else{let i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await er(t.appConfig,i)}throw i}}function eE(t){return void 0!==t&&2===t.registrationStatus}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ey(t){let{installationEntry:e,registrationPromise:i}=await ec(t);return i?i.catch(console.error):eg(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eS(t,e=!1){return await ev(t),(await eg(t,e)).token}async function ev(t){let{registrationPromise:e}=await ec(t);e&&await e}function eC(t){return tZ.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="installations";tR(new Z(eD,t=>{let e=t.getProvider("app").getImmediate(),i=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(t){if(!t||!t.options)throw eC("App Configuration");if(!t.name)throw eC("App Name");for(let e of["projectId","apiKey","appId"])if(!t.options[e])throw eC(e);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),s=tx(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},"PUBLIC")),tR(new Z("installations-internal",t=>{let e=tx(t.getProvider("app").getImmediate(),eD).getImmediate();return{getId:()=>ey(e),getToken:t=>eS(e,t)}},"PRIVATE")),tB(tX,tK),tB(tX,tK,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="analytics",eb="https://www.googletagmanager.com/gtag/js",e_=new to("@firebase/analytics"),eA=new z("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){if(!t.startsWith(eb)){let e=eA.create("invalid-gtag-resource",{gtagURL:t});return e_.warn(e.message),""}return t}function eO(t){return Promise.all(t.map(t=>t.catch(t=>t)))}async function eH(t,e,i,s,n,a){let r=s[n];try{if(r)await e[r];else{let t=(await eO(i)).find(t=>t.measurementId===n);t&&await e[t.appId]}}catch(t){e_.error(t)}t("config",n,a)}async function eR(t,e,i,s,n){try{let a=[];if(n&&n.send_to){let t=n.send_to;Array.isArray(t)||(t=[t]);let s=await eO(i);for(let i of t){let t=s.find(t=>t.measurementId===i),n=t&&e[t.appId];if(n)a.push(n);else{a=[];break}}}0===a.length&&(a=Object.values(e)),await Promise.all(a),t("event",s,n||{})}catch(t){e_.error(t)}}const ex=new class{getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}};async function eN(t){var e;let{appId:i,apiKey:s}=t,n={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":s})},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",i),r=await fetch(a,n);if(200!==r.status&&304!==r.status){let t="";try{let i=await r.json();(null===(e=i.error)||void 0===e?void 0:e.message)&&(t=i.error.message)}catch(t){}throw eA.create("config-fetch-failed",{httpStatus:r.status,responseMessage:t})}return r.json()}async function eM(t,e=ex,i){let{appId:s,apiKey:n,measurementId:a}=t.options;if(!s)throw eA.create("no-app-id");if(!n){if(a)return{measurementId:a,appId:s};throw eA.create("no-api-key")}let r=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new eB;return setTimeout(async()=>{o.abort()},void 0!==i?i:6e4),eL({appId:s,apiKey:n,measurementId:a},r,o,e)}async function eL(t,{throttleEndTimeMillis:e,backoffCount:i},s,n=ex){var a;let{appId:r,measurementId:o}=t;try{await new Promise((t,i)=>{let n=setTimeout(t,Math.max(e-Date.now(),0));s.addEventListener(()=>{clearTimeout(n),i(eA.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}catch(t){if(o)return e_.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${null==t?void 0:t.message}]`),{appId:r,measurementId:o};throw t}try{let e=await eN(t);return n.deleteThrottleMetadata(r),e}catch(c){if(!function(t){if(!(t instanceof Y)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(n.deleteThrottleMetadata(r),o)return e_.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${null==c?void 0:c.message}]`),{appId:r,measurementId:o};throw c}let e=503===Number(null===(a=null==c?void 0:c.customData)||void 0===a?void 0:a.httpStatus)?J(i,n.intervalMillis,30):J(i,n.intervalMillis),h={throttleEndTimeMillis:Date.now()+e,backoffCount:i+1};return n.setThrottleMetadata(r,h),e_.debug(`Calling attemptFetch again in ${e} millis`),eL(t,h,s,n)}}class eB{addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}constructor(){this.listeners=[]}}async function eF(t,e,i,s,n){if(n&&n.global){t("event",i,s);return}{let n=await e;t("event",i,Object.assign(Object.assign({},s),{send_to:n}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(){if(!j())return e_.warn(eA.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await V()}catch(t){return e_.warn(eA.create("indexeddb-unavailable",{errorInfo:null==t?void 0:t.toString()}).message),!1}return!0}async function eG(t,e,n,a,r,o,h){var c;let l=eM(t);l.then(e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&e_.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(t=>e_.error(t)),e.push(l);let d=eU().then(t=>t?a.getId():void 0),[u,p]=await Promise.all([l,d]);!function(t){for(let e of Object.values(window.document.getElementsByTagName("script")))if(e.src&&e.src.includes(eb)&&e.src.includes(t))return e;return null}(o)&&function(t,e){var i,s;let n;let a=(i="firebase-js-sdk-policy",s={createScriptURL:eP},window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,s)),n),r=document.createElement("script"),o=`${eb}?l=${t}&id=${e}`;r.src=a?null==a?void 0:a.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}(o,u.measurementId),s&&(r("consent","default",s),s=void 0),r("js",new Date);let f=null!==(c=null==h?void 0:h.config)&&void 0!==c?c:{};return f.origin="firebase",f.update=!0,null!=p&&(f.firebase_id=p),r("config",u.measurementId,f),i&&(r("set",i),i=void 0),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{_delete(){return delete eW[this.app.options.appId],Promise.resolve()}constructor(t){this.app=t}}let eW={},ej=[];const eV={};let eY="dataLayer",ez=!1;function e$(t,e,i,s){t=q(t),eF(a,eW[t.app.options.appId],e,i,s).catch(t=>e_.error(t))}const eX="@firebase/analytics",eK="0.10.7";tR(new Z(ew,(t,{options:e})=>(function(t,e,i){!function(){let t=[];if(function(){let t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()&&t.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||t.push("Cookies are not available."),t.length>0){let e=t.map((t,e)=>`(${e+1}) ${t}`).join(" "),i=eA.create("invalid-analytics-context",{errorInfo:e});e_.warn(i.message)}}();let s=t.options.appId;if(!s)throw eA.create("no-app-id");if(!t.options.apiKey){if(t.options.measurementId)e_.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw eA.create("no-api-key")}if(null!=eW[s])throw eA.create("already-exists",{id:s});if(!ez){var r,o;let t,e;t=[],Array.isArray(window[eY])?t=window[eY]:window[eY]=t;let{wrappedGtag:i,gtagCore:s}=(r="gtag",e=function(...t){window[eY].push(arguments)},window[r]&&"function"==typeof window[r]&&(e=window[r]),window[r]=(o=e,async function(t,...e){try{if("event"===t){let[t,i]=e;await eR(o,eW,ej,t,i)}else if("config"===t){let[t,i]=e;await eH(o,eW,ej,eV,t,i)}else if("consent"===t){let[t,i]=e;o("consent",t,i)}else if("get"===t){let[t,i,s]=e;o("get",t,i,s)}else if("set"===t){let[t]=e;o("set",t)}else o(t,...e)}catch(t){e_.error(t)}}),{gtagCore:e,wrappedGtag:window[r]});a=i,n=s,ez=!0}return eW[s]=eG(t,ej,eV,e,n,eY,i),new ek(t)})(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e),"PUBLIC")),tR(new Z("analytics-internal",function(t){try{let e=t.getProvider(ew).getImmediate();return{logEvent:(t,i,s)=>e$(e,t,i,s)}}catch(t){throw eA.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),tB(eX,eK),tB(eX,eK,"esm2017");const eJ=function(t=function(t=tb){let e=tA.get(t);if(!e&&t===tb&&k())return tL();if(!e)throw tN.create("no-app",{appName:t});return e}()){let e=tx(t=q(t),ew);return e.isInitialized()?e.getImmediate():function(t,e={}){let i=tx(t,ew);if(i.isInitialized()){let t=i.getImmediate();if(X(e,i.getOptions()))return t;throw eA.create("already-initialized")}return i.initialize({options:e})}(t)}(tL({apiKey:"AIzaSyD94Kb3uvFAdklNjiHAc8z-BhJP0z5wza0",authDomain:"offline-dino-game.firebaseapp.com",databaseURL:"https://offline-dino-game.firebaseio.com",projectId:"offline-dino-game",storageBucket:"offline-dino-game.appspot.com",messagingSenderId:"811824417832",appId:"1:811824417832:web:bf255feb3f3face09b391d",measurementId:"G-RRWBVBYNQJ"}));("offline-dino-game.firebaseapp.com"===window.location.hostname||"offline-dino-game.web.app"===window.location.hostname)&&(console.log("Redirecting to canonical domain..."),window.location.replace("https://dinosaurgame.app")),function(){function t(i,s){if(t.instance_)return t.instance_;t.instance_=this,this.outerContainerEl=document.querySelector(i),this.containerEl=null,this.snackbarEl=null,this.touchController=null,this.config=s||t.config,this.dimensions=t.defaultDimensions,this.canvas=null,this.canvasCtx=null,this.tRex=null,this.distanceMeter=null,this.distanceRan=0,this.highestScore=parseInt(localStorage.getItem("highScore"),10)||0,this.syncHighestScore=!0,this.time=0,this.runningTime=0,this.msPerFrame=1e3/e,this.currentSpeed=this.config.SPEED,this.obstacles=[],this.activated=!1,this.playing=!1,this.crashed=!1,this.paused=!1,this.inverted=!1,this.invertTimer=0,this.resizeTimerId_=null,this.bdayFlashTimer=null,this.playCount=0,this.audioBuffer=null,this.soundFx={},this.audioContext=null,this.images={},this.imagesLoaded=0,this.pollingGamepads=!1,this.gamepadIndex=void 0,this.previousGamepad=null,this.loadImages()}window.Runner=t;let e=60,i=window.devicePixelRatio>1,s=/CriOS/.test(window.navigator.userAgent),n=/Android/.test(window.navigator.userAgent)||s;function a(t,e){return Math.floor(Math.random()*(e-t+1))+t}function r(){return s?new Date().getTime():performance.now()}function o(t,e,i,s){this.canvas=t,this.canvasCtx=t.getContext("2d"),this.canvasDimensions=s,this.textImgPos=e,this.restartImgPos=i,this.draw()}function h(t,e){return new l(t.x+e.x,t.y+e.y,t.width,t.height)}function c(t,e){let i=!1;t.x,t.y;let s=e.x;return e.y,t.x<s+e.width&&t.x+t.width>s&&t.y<e.y+e.height&&t.height+t.y>e.y&&(i=!0),i}function l(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s}function d(e,i,s,n,r,o,h){this.canvasCtx=e,this.spritePos=s,this.typeConfig=i,this.gapCoefficient=r,this.size=a(1,d.MAX_OBSTACLE_LENGTH),this.dimensions=n,this.remove=!1,this.xPos=n.WIDTH+(h||0),this.yPos=0,this.width=0,this.collisionBoxes=[],this.gap=0,this.speedOffset=0,this.imageSprite="SNACK"==this.typeConfig.type?t.bdayImageSprite:t.imageSprite,this.currentFrame=0,this.timer=0,this.init(o)}function u(i,s){this.canvas=i,this.canvasCtx=i.getContext("2d"),this.imageSprite=t.imageSprite,this.spritePos=s,this.xPos=0,this.yPos=0,this.xInitialPos=0,this.groundYPos=0,this.currentFrame=0,this.currentAnimFrames=[],this.blinkDelay=0,this.blinkCount=0,this.animStartTime=0,this.timer=0,this.msPerFrame=1e3/e,this.config=u.config,this.status=u.status.WAITING,this.jumping=!1,this.ducking=!1,this.jumpVelocity=0,this.reachedMinHeight=!1,this.speedDrop=!1,this.jumpCount=0,this.jumpspotX=0,this.bdayModeActive=!1,this.flashing=!1,this.init()}function p(e,i,s){this.canvas=e,this.canvasCtx=e.getContext("2d"),this.image=t.imageSprite,this.spritePos=i,this.x=0,this.y=5,this.currentDistance=0,this.maxScore=0,this.highScore=["10","11",""],this.container=null,this.digits=[],this.achievement=!1,this.defaultString="",this.flashTimer=0,this.flashIterations=0,this.invertTrigger=!1,this.flashingRafId=null,this.highScoreBounds={},this.highScoreFlashing=!1,this.config=p.config,this.maxScoreUnits=this.config.MAX_DISTANCE_UNITS,this.init(s),this.setHighScore(parseInt(window.localStorage.getItem("highScore"),10)||0)}function f(e,i,s,n){this.canvas=e,this.canvasCtx=this.canvas.getContext("2d"),this.spritePos=i,this.containerWidth=s,this.xPos=s,this.yPos=0,this.remove=!1,this.cloudGap=a(f.config.MIN_CLOUD_GAP,f.config.MAX_CLOUD_GAP),this.isBalloon=n,this.imageSprite=n?t.bdayImageSprite:t.imageSprite,this.init()}function g(t,e,i){this.spritePos=e,this.canvas=t,this.canvasCtx=t.getContext("2d"),this.xPos=i-50,this.yPos=30,this.currentPhase=0,this.opacity=0,this.containerWidth=i,this.stars=[],this.drawStars=!1,this.placeStars()}function m(t,e){this.spritePos=e,this.canvas=t,this.canvasCtx=t.getContext("2d"),this.sourceDimensions={},this.dimensions=m.dimensions,this.sourceXPos=[this.spritePos.x,this.spritePos.x+this.dimensions.WIDTH],this.xPos=[],this.yPos=0,this.bumpThreshold=.5,this.setSourceDimensions(),this.draw()}function I(t,e,i,s){this.canvas=t,this.canvasCtx=this.canvas.getContext("2d"),this.config=I.config,this.dimensions=i,this.gapCoefficient=s,this.obstacles=[],this.obstacleHistory=[],this.horizonOffsets=[0,0],this.cloudFrequency=this.config.CLOUD_FREQUENCY,this.spritePos=e,this.nightMode=null,this.bdayModeActive=!1,this.clouds=[],this.cloudSpeed=this.config.BG_CLOUD_SPEED,this.horizonLine=null,this.init()}t.config={ACCELERATION:.001,BG_CLOUD_SPEED:.2,BOTTOM_PAD:10,CANVAS_IN_VIEW_OFFSET:-10,BOTTOM_PAD_BDAY:26,BDAY_FLASH_DURATION:1e3,BDAY_Y_POS_ADJUST:16,CLEAR_TIME:3e3,CLOUD_FREQUENCY:.5,GAMEOVER_CLEAR_TIME:750,GAP_COEFFICIENT:.6,GRAVITY:.6,INITIAL_JUMP_VELOCITY:12,INVERT_FADE_DURATION:12e3,INVERT_DISTANCE:700,MAX_BLINK_COUNT:3,MAX_CLOUDS:6,MAX_OBSTACLE_LENGTH:3,MAX_OBSTACLE_DUPLICATION:2,MAX_SPEED:13,MIN_JUMP_HEIGHT:35,MOBILE_SPEED_COEFFICIENT:1.2,RESOURCE_TEMPLATE_ID:"audio-resources",SPEED:6,SPEED_DROP_COEFFICIENT:3,ARCADE_MODE_INITIAL_TOP_POSITION:35,ARCADE_MODE_TOP_POSITION_PERCENT:.1},t.defaultDimensions={WIDTH:600,HEIGHT:150},t.classes={ARCADE_MODE:"arcade-mode",CANVAS:"runner-canvas",CONTAINER:"runner-container",CRASHED:"crashed",ICON:"icon-offline",INVERTED:"inverted",SNACKBAR:"snackbar",SNACKBAR_SHOW:"snackbar-show",TOUCH_CONTROLLER:"controller"},t.spriteDefinition={LDPI:{BALLOON:{x:417,y:29},CACTUS_LARGE:{x:332,y:2},CACTUS_SMALL:{x:228,y:2},CLOUD:{x:86,y:2},HORIZON:{x:2,y:54},MOON:{x:484,y:2},PTERODACTYL:{x:134,y:2},RESTART:{x:2,y:2},TEXT_SPRITE:{x:655,y:2},TREX:{x:848,y:2},TREX_BDAY:{x:0,y:0},SNACK:{x:384,y:22},STAR:{x:645,y:2}},HDPI:{BALLOON:{x:834,y:58},CACTUS_LARGE:{x:652,y:2},CACTUS_SMALL:{x:446,y:2},CLOUD:{x:166,y:2},HORIZON:{x:2,y:104},MOON:{x:954,y:2},PTERODACTYL:{x:260,y:2},RESTART:{x:2,y:2},TEXT_SPRITE:{x:1294,y:2},TREX:{x:1678,y:2},TREX_BDAY:{x:0,y:0},SNACK:{x:768,y:44},STAR:{x:1276,y:2}}},t.sounds={BUTTON_PRESS:"offline-sound-press",HIT:"offline-sound-hit",SCORE:"offline-sound-reached"},t.keycodes={JUMP:{38:1,32:1,87:1},DUCK:{40:1,83:1},RESTART:{13:1,32:1}},t.events={ANIM_END:"webkitAnimationEnd",CLICK:"click",KEYDOWN:"keydown",KEYUP:"keyup",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",RESIZE:"resize",TOUCHEND:"touchend",TOUCHSTART:"touchstart",VISIBILITY:"visibilitychange",BLUR:"blur",FOCUS:"focus",LOAD:"load",GAMEPADCONNECTED:"gamepadconnected"},t.prototype={isDisabled:function(){return!1},updateConfigSetting:function(t,e){if(t in this.config&&void 0!==e)switch(this.config[t]=e,t){case"GRAVITY":case"MIN_JUMP_HEIGHT":case"SPEED_DROP_COEFFICIENT":this.tRex.config[t]=e;break;case"INITIAL_JUMP_VELOCITY":this.tRex.setJumpVelocity(e);break;case"SPEED":this.setSpeed(e)}},loadImages:function(){i?(t.imageSprite=document.getElementById("offline-resources-2x"),t.bdayImageSprite=document.getElementById("offline-resources-bday-2x"),this.spriteDef=t.spriteDefinition.HDPI):(t.imageSprite=document.getElementById("offline-resources-1x"),t.bdayImageSprite=document.getElementById("offline-resources-bday-1x"),this.spriteDef=t.spriteDefinition.LDPI),t.imageSprite.complete?this.init():t.imageSprite.addEventListener(t.events.LOAD,this.init.bind(this))},loadSounds:function(){if(!s){this.audioContext=new AudioContext;let e=document.getElementById(this.config.RESOURCE_TEMPLATE_ID).content;for(let i in t.sounds){let s=e.getElementById(t.sounds[i]).src,n=function(t){let e=t.length/4*3,i=atob(t),s=new Uint8Array(new ArrayBuffer(e));for(let t=0;t<e;t++)s[t]=i.charCodeAt(t);return s.buffer}(s=s.substr(s.indexOf(",")+1));this.audioContext.decodeAudioData(n,(function(t,e){this.soundFx[t]=e}).bind(this,i))}}},setSpeed:function(t){let e=t||this.currentSpeed;if(this.dimensions.WIDTH<600){let t=e*this.dimensions.WIDTH/600*this.config.MOBILE_SPEED_COEFFICIENT;this.currentSpeed=t>e?e:t}else t&&(this.currentSpeed=t)},init:function(){this.adjustDimensions(),this.setSpeed(),this.containerEl=document.createElement("div"),this.containerEl.className=t.classes.CONTAINER,this.canvas=function(e,i,s,n){let a=document.createElement("canvas");return a.className=n?t.classes.CANVAS+" "+n:t.classes.CANVAS,a.width=i,a.height=s,e.appendChild(a),a}(this.containerEl,this.dimensions.WIDTH,this.dimensions.HEIGHT,t.classes.PLAYER),this.canvasCtx=this.canvas.getContext("2d"),this.canvasCtx.fillStyle="#f7f7f7",this.canvasCtx.fill(),t.updateCanvasScaling(this.canvas),this.horizon=new I(this.canvas,this.spriteDef,this.dimensions,this.config.GAP_COEFFICIENT),this.distanceMeter=new p(this.canvas,this.spriteDef.TEXT_SPRITE,this.dimensions.WIDTH),this.tRex=new u(this.canvas,this.spriteDef.TREX),this.outerContainerEl.appendChild(this.containerEl),this.startListening(),this.update(),window.addEventListener(t.events.RESIZE,this.debounceResize.bind(this));let e=window.matchMedia("(prefers-color-scheme: dark)");this.isDarkMode=e&&e.matches,e.addListener(t=>{this.isDarkMode=t.matches})},createTouchController:function(){this.touchController=document.createElement("div"),this.touchController.className=t.classes.TOUCH_CONTROLLER,this.touchController.addEventListener(t.events.TOUCHSTART,this),this.touchController.addEventListener(t.events.TOUCHEND,this),this.outerContainerEl.appendChild(this.touchController)},debounceResize:function(){this.resizeTimerId_||(this.resizeTimerId_=setInterval(this.adjustDimensions.bind(this),250))},adjustDimensions:function(){clearInterval(this.resizeTimerId_),this.resizeTimerId_=null;let e=window.getComputedStyle(this.outerContainerEl),i=Number(e.paddingLeft.substr(0,e.paddingLeft.length-2));this.dimensions.WIDTH=this.outerContainerEl.offsetWidth-2*i,this.isArcadeMode()&&(this.dimensions.WIDTH=Math.min(600,this.dimensions.WIDTH),this.activated&&this.setArcadeModeContainerScale()),this.canvas&&(this.canvas.width=this.dimensions.WIDTH,this.canvas.height=this.dimensions.HEIGHT,t.updateCanvasScaling(this.canvas),this.distanceMeter.calcXPos(this.dimensions.WIDTH),this.clearCanvas(),this.horizon.update(0,0,!0),this.tRex.update(0),this.playing||this.crashed||this.paused?(this.containerEl.style.width=this.dimensions.WIDTH+"px",this.containerEl.style.height=this.dimensions.HEIGHT+"px",this.distanceMeter.update(0,Math.ceil(this.distanceRan)),this.stop()):this.tRex.draw(0,0),this.crashed&&this.gameOverPanel&&(this.gameOverPanel.updateDimensions(this.dimensions.WIDTH),this.gameOverPanel.draw()))},playIntro:function(){if(this.activated||this.crashed)this.crashed&&this.restart();else{this.playingIntro=!0,this.tRex.playingIntro=!0;let e="@-webkit-keyframes intro { from { width:"+u.config.WIDTH+"px }to { width: "+this.dimensions.WIDTH+"px }}";document.styleSheets[0].insertRule(e,0),this.containerEl.addEventListener(t.events.ANIM_END,this.startGame.bind(this)),this.containerEl.style.webkitAnimation="intro .4s ease-out 1 both",this.containerEl.style.width=this.dimensions.WIDTH+"px",this.setPlayStatus(!0),this.activated=!0}},startGame:function(){e$(eJ,"level_start",{play_count:this.playCount}),this.isArcadeMode()&&this.setArcadeMode(),this.runningTime=0,this.playingIntro=!1,this.tRex.playingIntro=!1,this.containerEl.style.webkitAnimation="",this.playCount++,document.addEventListener(t.events.VISIBILITY,this.onVisibilityChange.bind(this)),window.addEventListener(t.events.BLUR,this.onVisibilityChange.bind(this)),window.addEventListener(t.events.FOCUS,this.onVisibilityChange.bind(this))},clearCanvas:function(){this.canvasCtx.clearRect(0,0,this.dimensions.WIDTH,this.dimensions.HEIGHT)},isCanvasInView(){return this.containerEl.getBoundingClientRect().top>t.config.CANVAS_IN_VIEW_OFFSET},update:function(){this.updatePending=!1;let e=r(),i=e-(this.time||e);if(null!=this.bdayFlashTimer&&(this.bdayFlashTimer<=0?(this.bdayFlashTimer=null,this.tRex.setFlashing(!1),this.tRex.enableBdayMode(this.spriteDef.TREX_BDAY)):(this.bdayFlashTimer-=i,this.tRex.update(i),i=0)),this.time=e,this.playing){this.clearCanvas(),this.tRex.jumping&&this.tRex.updateJump(i),this.runningTime+=i;let e=this.runningTime>this.config.CLEAR_TIME;if(1!==this.tRex.jumpCount||this.playingIntro||this.playIntro(),this.playingIntro)this.horizon.update(0,this.currentSpeed,e);else{let t=this.isDarkMode^this.inverted;i=this.activated?i:0,this.horizon.update(i,this.currentSpeed,e,this.inverted,t)}let s=e&&function(e,i,s){t.defaultDimensions.WIDTH,e.xPos;let n=new l(i.xPos+1,i.yPos+1,i.config.WIDTH-2,(i.bdayModeActive?i.config.HEIGHT_BDAY:i.config.HEIGHT)-2),a=new l(e.xPos+1,e.yPos+1,e.typeConfig.width*e.size-2,e.typeConfig.height-2);if(c(n,a)){let s=e.collisionBoxes,l=i.ducking?u.collisionBoxes.DUCKING:u.collisionBoxes.RUNNING;for(let e=0;e<l.length;e++)for(let u=0;u<s.length;u++){var r,o,d;let p=h(l[e],n),f=h(s[u],a),g=c(p,f);if(i.bdayModeActive&&(p.y+=t.config.BDAY_Y_POS_ADJUST),g)return[p,f]}}}(this.horizon.obstacles[0],this.tRex);if(t.isBdayModeEnabled()&&s&&"SNACK"==this.horizon.obstacles[0].typeConfig.type&&(this.horizon.enableBdayMode(),this.tRex.setFlashing(!0),s=!1,this.bdayFlashTimer=this.config.BDAY_FLASH_DURATION),s?this.gameOver():(this.distanceRan+=this.currentSpeed*i/this.msPerFrame,this.currentSpeed<this.config.MAX_SPEED&&(this.currentSpeed+=this.config.ACCELERATION)),this.distanceMeter.update(i,Math.ceil(this.distanceRan))&&this.playSound(this.soundFx.SCORE),this.invertTimer>this.config.INVERT_FADE_DURATION)this.invertTimer=0,this.invertTrigger=!1,this.invert(!1);else if(this.invertTimer)this.invertTimer+=i;else{let t=this.distanceMeter.getActualDistance(Math.ceil(this.distanceRan));t>0&&(this.invertTrigger=!(t%this.config.INVERT_DISTANCE),this.invertTrigger&&0===this.invertTimer&&(this.invertTimer+=i,this.invert(!1)))}}(this.playing||!this.activated&&this.tRex.blinkCount<t.config.MAX_BLINK_COUNT)&&(this.tRex.update(i),this.scheduleNextUpdate())},handleEvent:function(e){return(function(t,i){switch(t){case i.KEYDOWN:case i.TOUCHSTART:case i.POINTERDOWN:this.onKeyDown(e);break;case i.KEYUP:case i.TOUCHEND:case i.POINTERUP:this.onKeyUp(e);break;case i.GAMEPADCONNECTED:this.onGamepadConnected(e)}}).bind(this)(e.type,t.events)},startListening:function(){document.addEventListener(t.events.KEYDOWN,this),document.addEventListener(t.events.KEYUP,this),this.containerEl.addEventListener(t.events.TOUCHSTART,this),document.addEventListener(t.events.POINTERDOWN,this),document.addEventListener(t.events.POINTERUP,this),this.isArcadeMode()&&window.addEventListener(t.events.GAMEPADCONNECTED,this)},stopListening:function(){document.removeEventListener(t.events.KEYDOWN,this),document.removeEventListener(t.events.KEYUP,this),this.touchController&&(this.touchController.removeEventListener(t.events.TOUCHSTART,this),this.touchController.removeEventListener(t.events.TOUCHEND,this)),this.containerEl.removeEventListener(t.events.TOUCHSTART,this),document.removeEventListener(t.events.POINTERDOWN,this),document.removeEventListener(t.events.POINTERUP,this),this.isArcadeMode()&&window.removeEventListener(t.events.GAMEPADCONNECTED,this)},onKeyDown:function(e){n&&this.playing&&e.preventDefault(),this.isCanvasInView()?this.crashed||this.paused?this.playing&&t.keycodes.DUCK[e.keyCode]&&(e.preventDefault(),this.tRex.jumping?this.tRex.setSpeedDrop():this.tRex.jumping||this.tRex.ducking||this.tRex.setDuck(!0)):((t.keycodes.JUMP[e.keyCode]||e.type===t.events.TOUCHSTART)&&(e.preventDefault(),this.playing||(this.touchController||e.type!==t.events.TOUCHSTART||this.createTouchController(),this.loadSounds(),this.setPlayStatus(!0),this.update())),this.tRex.jumping||this.tRex.ducking||(this.playSound(this.soundFx.BUTTON_PRESS),this.tRex.startJump(this.currentSpeed))):s&&this.crashed&&e.type===t.events.TOUCHSTART&&e.currentTarget===this.containerEl&&this.handleGameOverClicks(e)},onKeyUp:function(e){let i=String(e.keyCode),s=t.keycodes.JUMP[i]||e.type===t.events.TOUCHEND||e.type===t.events.POINTERUP;if(this.isRunning()&&s)this.tRex.endJump();else if(t.keycodes.DUCK[i])this.tRex.speedDrop=!1,this.tRex.setDuck(!1);else if(this.crashed){let s=r()-this.time;this.isCanvasInView()&&(t.keycodes.RESTART[i]||this.isLeftClickOnCanvas(e)||s>=this.config.GAMEOVER_CLEAR_TIME&&t.keycodes.JUMP[i])&&this.handleGameOverClicks(e)}else this.paused&&s&&(this.tRex.reset(),this.play())},onGamepadConnected(t){this.pollingGamepads||this.pollGamepadState()},pollGamepadState(){let t=navigator.getGamepads();this.pollActiveGamepad(t),this.pollingGamepads=!0,requestAnimationFrame(this.pollGamepadState.bind(this))},pollForActiveGamepad(t){for(let e=0;e<t.length;++e)if(t[e]&&t[e].buttons.length>0&&t[e].buttons[0].pressed){this.gamepadIndex=e,this.pollActiveGamepad(t);return}},pollActiveGamepad(t){if(void 0===this.gamepadIndex){this.pollForActiveGamepad(t);return}let e=t[this.gamepadIndex];if(!e){this.gamepadIndex=void 0,this.pollForActiveGamepad(t);return}this.pollGamepadButton(e,0,38),e.buttons.length>=2&&this.pollGamepadButton(e,1,40),e.buttons.length>=10&&this.pollGamepadButton(e,9,13),this.previousGamepad=e},pollGamepadButton(e,i,s){let n=e.buttons[i].pressed,a=!1;if(this.previousGamepad&&(a=this.previousGamepad.buttons[i].pressed),n!==a){let e=new KeyboardEvent(n?t.events.KEYDOWN:t.events.KEYUP,{keyCode:s});document.dispatchEvent(e)}},handleGameOverClicks(t){t.preventDefault(),this.distanceMeter.hasClickedOnHighScore(t)&&this.highestScore?this.distanceMeter.isHighScoreFlashing()?(this.saveHighScore(0,!0),this.distanceMeter.resetHighScore()):this.distanceMeter.startHighScoreFlashing():(this.distanceMeter.cancelHighScoreFlashing(),this.restart())},isLeftClickOnCanvas:function(e){return null!=e.button&&e.button<2&&e.type===t.events.POINTERUP&&e.target===this.canvas},scheduleNextUpdate:function(){this.updatePending||(this.updatePending=!0,this.raqId=requestAnimationFrame(this.update.bind(this)))},isRunning:function(){return!!this.raqId},saveHighScore(t,e){this.highestScore=Math.ceil(t),this.distanceMeter.setHighScore(this.highestScore),this.syncHighestScore&&window.localStorage&&(e?window.localStorage.setItem("highScore","0"):window.localStorage.setItem("highScore",String(this.highestScore)))},gameOver:function(){this.playSound(this.soundFx.HIT),window.navigator.vibrate&&window.navigator.vibrate(200),this.stop(),this.crashed=!0,this.distanceMeter.achievement=!1,this.tRex.update(100,u.status.CRASHED),this.gameOverPanel?this.gameOverPanel.draw():this.canvas&&(this.gameOverPanel=new o(this.canvas,this.spriteDef.TEXT_SPRITE,this.spriteDef.RESTART,this.dimensions)),this.distanceRan>this.highestScore&&this.saveHighScore(this.distanceRan),this.time=r(),e$(eJ,"level_end"),e$(eJ,"post_score",{score:this.distanceRan})},stop:function(){this.setPlayStatus(!1),this.paused=!0,cancelAnimationFrame(this.raqId),this.raqId=0},play:function(){this.crashed||(this.setPlayStatus(!0),this.paused=!1,this.tRex.update(0,u.status.RUNNING),this.time=r(),this.update())},restart:function(){e$(eJ,"level_start",{play_count:this.playCount}),this.raqId||(this.playCount++,this.runningTime=0,this.setPlayStatus(!0),this.paused=!1,this.crashed=!1,this.distanceRan=0,this.setSpeed(this.config.SPEED),this.time=r(),this.containerEl.classList.remove(t.classes.CRASHED),this.clearCanvas(),this.distanceMeter.reset(),this.horizon.reset(),this.tRex.reset(),this.playSound(this.soundFx.BUTTON_PRESS),this.invert(!0),this.bdayFlashTimer=null,this.update())},setPlayStatus(t){this.touchController,this.playing=t},isArcadeMode:function(){return!0},setArcadeMode:function(){document.body.classList.add(t.classes.ARCADE_MODE),this.setArcadeModeContainerScale()},setArcadeModeContainerScale:function(){let e=window.innerHeight,i=Math.max(1,Math.min(e/this.dimensions.HEIGHT,window.innerWidth/this.dimensions.WIDTH)),s=Math.ceil(Math.max(0,(e-this.dimensions.HEIGHT*i-t.config.ARCADE_MODE_INITIAL_TOP_POSITION)*t.config.ARCADE_MODE_TOP_POSITION_PERCENT))*window.devicePixelRatio;this.containerEl.style.transform="scale("+i+") translateY("+s+"px)"},onVisibilityChange:function(t){document.hidden||document.webkitHidden||"blur"===t.type||"visible"!==document.visibilityState?this.stop():this.crashed||(this.tRex.reset(),this.play())},playSound:function(t){if(t){let e=this.audioContext.createBufferSource();e.buffer=t,e.connect(this.audioContext.destination),e.start(0)}},invert:function(e){let i=document.firstElementChild;e?(i.classList.toggle(t.classes.INVERTED,!1),this.invertTimer=0,this.inverted=!1):this.inverted=i.classList.toggle(t.classes.INVERTED,this.invertTrigger)}},t.updateCanvasScaling=function(t,e,i){let s=t.getContext("2d"),n=Math.floor(window.devicePixelRatio)||1,a=Math.floor(s.webkitBackingStorePixelRatio)||1,r=n/a;if(n!==a){let n=e||t.width,a=i||t.height;return t.width=n*r,t.height=a*r,t.style.width=n+"px",t.style.height=a+"px",s.scale(r,r),!0}return 1===n&&(t.style.width=t.width+"px",t.style.height=t.height+"px"),!1},t.isBdayModeEnabled=function(){return!1},o.dimensions={TEXT_X:0,TEXT_Y:13,TEXT_WIDTH:191,TEXT_HEIGHT:11,RESTART_WIDTH:36,RESTART_HEIGHT:32},o.prototype={updateDimensions:function(t,e){this.canvasDimensions.WIDTH=t,e&&(this.canvasDimensions.HEIGHT=e)},draw:function(){let e=o.dimensions,s=this.canvasDimensions.WIDTH/2,n=e.TEXT_X,a=e.TEXT_Y,r=e.TEXT_WIDTH,h=e.TEXT_HEIGHT,c=Math.round(s-e.TEXT_WIDTH/2),l=Math.round((this.canvasDimensions.HEIGHT-25)/3),d=e.TEXT_WIDTH,u=e.TEXT_HEIGHT,p=e.RESTART_WIDTH,f=e.RESTART_HEIGHT,g=s-e.RESTART_WIDTH/2,m=this.canvasDimensions.HEIGHT/2;i&&(a*=2,n*=2,r*=2,h*=2,p*=2,f*=2),n+=this.textImgPos.x,a+=this.textImgPos.y,this.canvasCtx.drawImage(t.imageSprite,n,a,r,h,c,l,d,u),this.canvasCtx.drawImage(t.imageSprite,this.restartImgPos.x,this.restartImgPos.y,p,f,g,m,e.RESTART_WIDTH,e.RESTART_HEIGHT)}},d.MAX_GAP_COEFFICIENT=1.5,d.MAX_OBSTACLE_LENGTH=3,d.prototype={init:function(t){if(this.cloneCollisionBoxes(),this.size>1&&this.typeConfig.multipleSpeed>t&&(this.size=1),this.width=this.typeConfig.width*this.size,Array.isArray(this.typeConfig.yPos)){let t=n?this.typeConfig.yPosMobile:this.typeConfig.yPos;this.yPos=t[a(0,t.length-1)]}else this.yPos=this.typeConfig.yPos;this.draw(),this.size>1&&(this.collisionBoxes[1].width=this.width-this.collisionBoxes[0].width-this.collisionBoxes[2].width,this.collisionBoxes[2].x=this.width-this.collisionBoxes[2].width),this.typeConfig.speedOffset&&(this.speedOffset=Math.random()>.5?this.typeConfig.speedOffset:-this.typeConfig.speedOffset),this.gap=this.getGap(this.gapCoefficient,t)},draw:function(){let e=this.typeConfig.width,s=this.typeConfig.height;i&&(e*=2,s*=2);let n=e*this.size*(.5*(this.size-1))+this.spritePos.x;this.currentFrame>0&&(n+=e*this.currentFrame),this.canvasCtx.drawImage(t.imageSprite,n,this.spritePos.y,e*this.size,s,this.xPos,this.yPos,this.typeConfig.width*this.size,this.typeConfig.height)},update:function(t,i){this.remove||(this.typeConfig.speedOffset&&(i+=this.speedOffset),this.xPos-=Math.floor(i*e/1e3*t),this.typeConfig.numFrames&&(this.timer+=t,this.timer>=this.typeConfig.frameRate&&(this.currentFrame=this.currentFrame===this.typeConfig.numFrames-1?0:this.currentFrame+1,this.timer=0)),this.draw(),this.isVisible()||(this.remove=!0))},getGap:function(t,e){let i=Math.round(this.width*e+this.typeConfig.minGap*t),s=Math.round(i*d.MAX_GAP_COEFFICIENT);return a(i,s)},isVisible:function(){return this.xPos+this.width>0},cloneCollisionBoxes:function(){let t=this.typeConfig.collisionBoxes;for(let e=t.length-1;e>=0;e--)this.collisionBoxes[e]=new l(t[e].x,t[e].y,t[e].width,t[e].height)}},d.types=[{type:"CACTUS_SMALL",width:17,height:35,yPos:105,multipleSpeed:4,minGap:120,minSpeed:0,collisionBoxes:[new l(0,7,5,27),new l(4,0,6,34),new l(10,4,7,14)]},{type:"CACTUS_LARGE",width:25,height:50,yPos:90,multipleSpeed:7,minGap:120,minSpeed:0,collisionBoxes:[new l(0,12,7,38),new l(8,0,7,49),new l(13,10,10,38)]},{type:"PTERODACTYL",width:46,height:40,yPos:[100,75,50],yPosMobile:[100,50],multipleSpeed:999,minSpeed:8.5,minGap:150,collisionBoxes:[new l(15,15,16,5),new l(18,21,24,6),new l(2,14,4,3),new l(6,10,4,7),new l(10,8,6,9)],numFrames:2,frameRate:1e3/6,speedOffset:.8},{type:"SNACK",width:33,height:42,yPos:85,multipleSpeed:999,minGap:999,minSpeed:0,collisionBoxes:[new l(0,0,40,40)]}],u.config={DROP_VELOCITY:-5,FLASH_OFF:175,FLASH_ON:100,GRAVITY:.6,HEIGHT:47,HEIGHT_BDAY:63,HEIGHT_DUCK:25,INIITAL_JUMP_VELOCITY:-10,INTRO_DURATION:1500,MAX_JUMP_HEIGHT:30,MIN_JUMP_HEIGHT:30,SPEED_DROP_COEFFICIENT:3,SPRITE_WIDTH:262,START_X_POS:50,WIDTH:44,WIDTH_DUCK:59},u.collisionBoxes={DUCKING:[new l(1,18,55,25)],RUNNING:[new l(22,0,17,16),new l(1,18,30,9),new l(10,35,14,8),new l(1,24,29,5),new l(5,30,21,4),new l(9,34,15,4)]},u.status={CRASHED:"CRASHED",DUCKING:"DUCKING",JUMPING:"JUMPING",RUNNING:"RUNNING",WAITING:"WAITING"},u.BLINK_TIMING=7e3,u.animFrames={WAITING:{frames:[44,0],msPerFrame:1e3/3},RUNNING:{frames:[88,132],msPerFrame:1e3/12},CRASHED:{frames:[220],msPerFrame:1e3/60},JUMPING:{frames:[0],msPerFrame:1e3/60},DUCKING:{frames:[264,323],msPerFrame:125}},u.prototype={init:function(){this.groundYPos=t.defaultDimensions.HEIGHT-this.config.HEIGHT-t.config.BOTTOM_PAD,this.yPos=this.groundYPos,this.minJumpHeight=this.groundYPos-this.config.MIN_JUMP_HEIGHT,this.draw(0,0),this.update(0,u.status.WAITING)},enableBdayMode:function(e){this.bdayModeActive=!0,this.spritePos=e,this.imageSprite=t.bdayImageSprite,this.groundYPos=t.defaultDimensions.HEIGHT-this.config.HEIGHT-t.config.BOTTOM_PAD_BDAY,this.yPos-=t.config.BDAY_Y_POS_ADJUST},setFlashing:function(t){this.flashing=t},setJumpVelocity:function(t){this.config.INIITAL_JUMP_VELOCITY=-t,this.config.DROP_VELOCITY=-t/2},update:function(t,e){this.timer+=t,e&&(this.status=e,this.currentFrame=0,this.msPerFrame=u.animFrames[e].msPerFrame,this.currentAnimFrames=u.animFrames[e].frames,e===u.status.WAITING&&(this.animStartTime=r(),this.setBlinkDelay())),this.playingIntro&&this.xPos<this.config.START_X_POS&&(this.xPos+=Math.round(this.config.START_X_POS/this.config.INTRO_DURATION*t),this.xInitialPos=this.xPos),this.status===u.status.WAITING?this.blink(r()):this.draw(this.currentAnimFrames[this.currentFrame],0),!this.flashing&&this.timer>=this.msPerFrame&&(this.currentFrame=this.currentFrame==this.currentAnimFrames.length-1?0:this.currentFrame+1,this.timer=0),this.speedDrop&&this.yPos===this.groundYPos&&(this.speedDrop=!1,this.setDuck(!0))},draw:function(e,s){let n=e,a=s,r=this.ducking&&this.status!==u.status.CRASHED?this.config.WIDTH_DUCK:this.config.WIDTH;var o=this.bdayModeActive?this.config.HEIGHT_BDAY:this.config.HEIGHT;let h=o;i&&(n*=2,a*=2,r*=2,o*=2),n+=this.spritePos.x,a+=this.spritePos.y,this.flashing&&(this.timer<this.config.FLASH_ON?this.canvasCtx.globalAlpha=.5:this.timer>this.config.FLASH_OFF&&(this.timer=0)),this.ducking&&this.status!==u.status.CRASHED?this.canvasCtx.drawImage(t.imageSprite,n,a,r,o,this.xPos,this.yPos,this.config.WIDTH_DUCK,h):(this.ducking&&this.status===u.status.CRASHED&&this.xPos++,this.canvasCtx.drawImage(t.imageSprite,n,a,r,o,this.xPos,this.yPos,this.config.WIDTH,h)),this.canvasCtx.globalAlpha=1},setBlinkDelay:function(){this.blinkDelay=Math.ceil(Math.random()*u.BLINK_TIMING)},blink:function(t){t-this.animStartTime>=this.blinkDelay&&(this.draw(this.currentAnimFrames[this.currentFrame],0),1===this.currentFrame&&(this.setBlinkDelay(),this.animStartTime=t,this.blinkCount++))},startJump:function(t){this.jumping||(this.update(0,u.status.JUMPING),this.jumpVelocity=this.config.INIITAL_JUMP_VELOCITY-t/10,this.jumping=!0,this.reachedMinHeight=!1,this.speedDrop=!1)},endJump:function(){this.reachedMinHeight&&this.jumpVelocity<this.config.DROP_VELOCITY&&(this.jumpVelocity=this.config.DROP_VELOCITY)},updateJump:function(t,e){let i=t/u.animFrames[this.status].msPerFrame;this.speedDrop?this.yPos+=Math.round(this.jumpVelocity*this.config.SPEED_DROP_COEFFICIENT*i):this.yPos+=Math.round(this.jumpVelocity*i),this.jumpVelocity+=this.config.GRAVITY*i,(this.yPos<this.minJumpHeight||this.speedDrop)&&(this.reachedMinHeight=!0),(this.yPos<this.config.MAX_JUMP_HEIGHT||this.speedDrop)&&this.endJump(),this.yPos>this.groundYPos&&(this.reset(),this.jumpCount++)},setSpeedDrop:function(){this.speedDrop=!0,this.jumpVelocity=1},setDuck:function(t){t&&this.status!==u.status.DUCKING?(this.update(0,u.status.DUCKING),this.ducking=!0):this.status===u.status.DUCKING&&(this.update(0,u.status.RUNNING),this.ducking=!1)},reset:function(){this.xPos=this.xInitialPos,this.yPos=this.groundYPos,this.jumpVelocity=0,this.jumping=!1,this.ducking=!1,this.update(0,u.status.RUNNING),this.midair=!1,this.speedDrop=!1,this.jumpCount=0}},p.dimensions={WIDTH:10,HEIGHT:13,DEST_WIDTH:11},p.yPos=[0,13,27,40,53,67,80,93,107,120],p.config={MAX_DISTANCE_UNITS:5,ACHIEVEMENT_DISTANCE:100,COEFFICIENT:.025,FLASH_DURATION:250,FLASH_ITERATIONS:3,HIGH_SCORE_HIT_AREA_PADDING:4},p.prototype={init:function(t){let e="";this.calcXPos(t),this.maxScore=this.maxScoreUnits;for(let t=0;t<this.maxScoreUnits;t++)this.draw(t,0),this.defaultString+="0",e+="9";this.maxScore=parseInt(e,10)},calcXPos:function(t){this.x=t-p.dimensions.DEST_WIDTH*(this.maxScoreUnits+1)},draw:function(t,e,s){let n=p.dimensions.WIDTH,a=p.dimensions.HEIGHT,r=p.dimensions.WIDTH*e,o=0,h=t*p.dimensions.DEST_WIDTH,c=this.y,l=p.dimensions.WIDTH,d=p.dimensions.HEIGHT;if(i&&(n*=2,a*=2,r*=2),r+=this.spritePos.x,o+=this.spritePos.y,this.canvasCtx.save(),s){let t=this.x-2*this.maxScoreUnits*p.dimensions.WIDTH;this.canvasCtx.translate(t,this.y)}else this.canvasCtx.translate(this.x,this.y);this.canvasCtx.drawImage(this.image,r,o,n,a,h,c,l,d),this.canvasCtx.restore()},getActualDistance:function(t){return t?Math.round(t*this.config.COEFFICIENT):0},update:function(t,e){let i=!0,s=!1;if(this.achievement)this.flashIterations<=this.config.FLASH_ITERATIONS?(this.flashTimer+=t,this.flashTimer<this.config.FLASH_DURATION?i=!1:this.flashTimer>2*this.config.FLASH_DURATION&&(this.flashTimer=0,this.flashIterations++)):(this.achievement=!1,this.flashIterations=0,this.flashTimer=0);else if((e=this.getActualDistance(e))>this.maxScore&&this.maxScoreUnits==this.config.MAX_DISTANCE_UNITS?(this.maxScoreUnits++,this.maxScore=parseInt(this.maxScore+"9",10)):this.distance=0,e>0){e%this.config.ACHIEVEMENT_DISTANCE==0&&(this.achievement=!0,this.flashTimer=0,s=!0);let t=(this.defaultString+e).substr(-this.maxScoreUnits);this.digits=t.split("")}else this.digits=this.defaultString.split("");if(i)for(let t=this.digits.length-1;t>=0;t--)this.draw(t,parseInt(this.digits[t],10));return this.drawHighScore(),s},drawHighScore:function(){this.canvasCtx.save(),this.canvasCtx.globalAlpha=.8;for(let t=this.highScore.length-1;t>=0;t--)this.draw(t,parseInt(this.highScore[t],10),!0);this.canvasCtx.restore()},setHighScore:function(t){t=this.getActualDistance(t);let e=(this.defaultString+t).substr(-this.maxScoreUnits);this.highScore=["10","11",""].concat(e.split(""))},hasClickedOnHighScore(t){let e=0,i=0;if(t.touches){let s=this.canvas.getBoundingClientRect();e=t.touches[0].clientX-s.left,i=t.touches[0].clientY-s.top}else e=t.offsetX,i=t.offsetY;return this.highScoreBounds=this.getHighScoreBounds(),e>=this.highScoreBounds.x&&e<=this.highScoreBounds.x+this.highScoreBounds.width&&i>=this.highScoreBounds.y&&i<=this.highScoreBounds.y+this.highScoreBounds.height},getHighScoreBounds(){return{x:this.x-2*this.maxScoreUnits*p.dimensions.WIDTH-p.config.HIGH_SCORE_HIT_AREA_PADDING,y:this.y,width:p.dimensions.WIDTH*(this.highScore.length+1)+p.config.HIGH_SCORE_HIT_AREA_PADDING,height:p.dimensions.HEIGHT+2*p.config.HIGH_SCORE_HIT_AREA_PADDING}},flashHighScore(){let t=r(),e=t-(this.frameTimeStamp||t),i=!0;if(this.frameTimeStamp=t,this.flashIterations>2*this.config.FLASH_ITERATIONS){this.cancelHighScoreFlashing();return}this.flashTimer+=e,this.flashTimer<this.config.FLASH_DURATION?i=!1:this.flashTimer>2*this.config.FLASH_DURATION&&(this.flashTimer=0,this.flashIterations++),i?this.drawHighScore():this.clearHighScoreBounds(),this.flashingRafId=requestAnimationFrame(this.flashHighScore.bind(this))},clearHighScoreBounds(){this.canvasCtx.save(),this.canvasCtx.fillStyle="#fff",this.canvasCtx.rect(this.highScoreBounds.x,this.highScoreBounds.y,this.highScoreBounds.width,this.highScoreBounds.height),this.canvasCtx.fill(),this.canvasCtx.restore()},startHighScoreFlashing(){this.highScoreFlashing=!0,this.flashHighScore()},isHighScoreFlashing(){return this.highScoreFlashing},cancelHighScoreFlashing(){this.flashingRafId&&cancelAnimationFrame(this.flashingRafId),this.flashIterations=0,this.flashTimer=0,this.highScoreFlashing=!1,this.clearHighScoreBounds(),this.drawHighScore()},resetHighScore(){this.setHighScore(0),this.cancelHighScoreFlashing()},reset:function(){this.update(0,0),this.achievement=!1}},f.config={HEIGHT:14,HEIGHT_BALLOON:34,MAX_CLOUD_GAP:300,MAX_SKY_LEVEL:30,MIN_CLOUD_GAP:100,MIN_SKY_LEVEL:71,WIDTH:46,WIDTH_BALLOON:16},f.prototype={init:function(){this.yPos=a(f.config.MAX_SKY_LEVEL,f.config.MIN_SKY_LEVEL),this.draw()},draw:function(){this.canvasCtx.save();let e=this.isBalloon?f.config.WIDTH_BALLOON:f.config.WIDTH,s=this.isBalloon?f.config.HEIGHT_BALLOON:f.config.HEIGHT,n=e,a=s;i&&(e*=2,s*=2),this.canvasCtx.drawImage(t.imageSprite,this.spritePos.x,this.spritePos.y,e,s,this.xPos,this.yPos,n,a),this.canvasCtx.restore()},update:function(t){this.remove||(this.xPos-=Math.ceil(t),this.draw(),this.isVisible()||(this.remove=!0))},isVisible:function(){return this.xPos+f.config.WIDTH>0}},g.config={FADE_SPEED:.035,HEIGHT:40,MOON_SPEED:.25,NUM_STARS:2,STAR_SIZE:9,STAR_SPEED:.3,STAR_MAX_Y:70,WIDTH:20},g.phases=[140,120,100,60,40,20,0],g.prototype={update:function(t,e){if(t&&0===this.opacity&&(this.currentPhase++,this.currentPhase>=g.phases.length&&(this.currentPhase=0)),t&&(this.opacity<1||0===this.opacity)?this.opacity+=g.config.FADE_SPEED:this.opacity>0&&(this.opacity-=g.config.FADE_SPEED),this.opacity>0){if(this.xPos=this.updateXPos(this.xPos,g.config.MOON_SPEED),this.drawStars)for(let t=0;t<g.config.NUM_STARS;t++)this.stars[t].x=this.updateXPos(this.stars[t].x,g.config.STAR_SPEED);this.draw()}else this.opacity=0,this.placeStars();this.drawStars=!0},updateXPos:function(t,e){return t<-g.config.WIDTH?t=this.containerWidth:t-=e,t},draw:function(){let e=3===this.currentPhase?2*g.config.WIDTH:g.config.WIDTH,s=g.config.HEIGHT,n=this.spritePos.x+g.phases[this.currentPhase],a=e,r=g.config.STAR_SIZE,o=t.spriteDefinition.LDPI.STAR.x;if(i&&(e*=2,s*=2,n=this.spritePos.x+2*g.phases[this.currentPhase],r*=2,o=t.spriteDefinition.HDPI.STAR.x),this.canvasCtx.save(),this.canvasCtx.globalAlpha=this.opacity,this.drawStars)for(let e=0;e<g.config.NUM_STARS;e++)this.canvasCtx.drawImage(t.imageSprite,o,this.stars[e].sourceY,r,r,Math.round(this.stars[e].x),this.stars[e].y,g.config.STAR_SIZE,g.config.STAR_SIZE);this.canvasCtx.drawImage(t.imageSprite,n,this.spritePos.y,e,s,Math.round(this.xPos),this.yPos,a,g.config.HEIGHT),this.canvasCtx.globalAlpha=1,this.canvasCtx.restore()},placeStars:function(){let e=Math.round(this.containerWidth/g.config.NUM_STARS);for(let s=0;s<g.config.NUM_STARS;s++)this.stars[s]={},this.stars[s].x=a(e*s,e*(s+1)),this.stars[s].y=a(0,g.config.STAR_MAX_Y),i?this.stars[s].sourceY=t.spriteDefinition.HDPI.STAR.y+2*g.config.STAR_SIZE*s:this.stars[s].sourceY=t.spriteDefinition.LDPI.STAR.y+g.config.STAR_SIZE*s},reset:function(){this.currentPhase=0,this.opacity=0,this.update(!1)}},m.dimensions={WIDTH:600,HEIGHT:12,YPOS:127},m.prototype={setSourceDimensions:function(){for(let t in m.dimensions)i?"YPOS"!==t&&(this.sourceDimensions[t]=2*m.dimensions[t]):this.sourceDimensions[t]=m.dimensions[t],this.dimensions[t]=m.dimensions[t];this.xPos=[0,m.dimensions.WIDTH],this.yPos=m.dimensions.YPOS},getRandomType:function(){return Math.random()>this.bumpThreshold?this.dimensions.WIDTH:0},draw:function(){this.canvasCtx.drawImage(t.imageSprite,this.sourceXPos[0],this.spritePos.y,this.sourceDimensions.WIDTH,this.sourceDimensions.HEIGHT,this.xPos[0],this.yPos,this.dimensions.WIDTH,this.dimensions.HEIGHT),this.canvasCtx.drawImage(t.imageSprite,this.sourceXPos[1],this.spritePos.y,this.sourceDimensions.WIDTH,this.sourceDimensions.HEIGHT,this.xPos[1],this.yPos,this.dimensions.WIDTH,this.dimensions.HEIGHT)},updateXPos:function(t,e){let i=0===t?1:0;this.xPos[t]-=e,this.xPos[i]=this.xPos[t]+this.dimensions.WIDTH,this.xPos[t]<=-this.dimensions.WIDTH&&(this.xPos[t]+=2*this.dimensions.WIDTH,this.xPos[i]=this.xPos[t]-this.dimensions.WIDTH,this.sourceXPos[t]=this.getRandomType()+this.spritePos.x)},update:function(t,i){let s=Math.floor(e/1e3*i*t);this.xPos[0]<=0?this.updateXPos(0,s):this.updateXPos(1,s),this.draw()},reset:function(){this.xPos[0]=0,this.xPos[1]=m.dimensions.WIDTH}},I.config={BG_CLOUD_SPEED:.2,BUMPY_THRESHOLD:.3,CLOUD_FREQUENCY:.5,HORIZON_HEIGHT:16,MAX_CLOUDS:6},I.prototype={init:function(){this.addCloud(),this.horizonLine=new m(this.canvas,this.spritePos.HORIZON),this.nightMode=new g(this.canvas,this.spritePos.MOON,this.dimensions.WIDTH)},enableBdayMode:function(){this.bdayModeActive=!0,this.removeFirstObstacle()},update:function(t,e,i,s){this.runningTime+=t,this.horizonLine.update(t,e),this.nightMode.update(s),this.updateClouds(t,e),i&&this.updateObstacles(t,e)},updateClouds:function(t,e){let i=this.cloudSpeed/1e3*t*e,s=this.clouds.length;if(s){for(let t=s-1;t>=0;t--)this.clouds[t].update(i);let t=this.clouds[s-1];s<this.config.MAX_CLOUDS&&this.dimensions.WIDTH-t.xPos>t.cloudGap&&this.cloudFrequency>Math.random()&&this.addCloud(),this.clouds=this.clouds.filter(function(t){return!t.remove})}else this.addCloud()},updateObstacles:function(t,e){let i=this.obstacles.slice(0);for(let s=0;s<this.obstacles.length;s++){let n=this.obstacles[s];n.update(t,e),n.remove&&i.shift()}if(this.obstacles=i,this.obstacles.length>0){let t=this.obstacles[this.obstacles.length-1];t&&!t.followingObstacleCreated&&t.isVisible()&&t.xPos+t.width+t.gap<this.dimensions.WIDTH&&(this.addNewObstacle(e),t.followingObstacleCreated=!0)}else this.addNewObstacle(e)},removeFirstObstacle:function(){this.obstacles.shift()},addNewObstacle:function(e){let i=a(0,t.isBdayModeEnabled()&&!this.bdayModeActive?d.types.length-1:d.types.length-2),s=d.types[i];if(this.duplicateObstacleCheck(s.type)||e<s.minSpeed)this.addNewObstacle(e);else{let i=this.spritePos[s.type];this.obstacles.push(new d(this.canvasCtx,s,i,this.dimensions,this.gapCoefficient,e,s.width)),this.obstacleHistory.unshift(s.type),this.obstacleHistory.length>1&&this.obstacleHistory.splice(t.config.MAX_OBSTACLE_DUPLICATION)}},duplicateObstacleCheck:function(e){let i=0;for(let t=0;t<this.obstacleHistory.length;t++)i=this.obstacleHistory[t]===e?i+1:0;return i>=t.config.MAX_OBSTACLE_DUPLICATION},reset:function(){this.obstacles=[],this.horizonLine.reset(),this.nightMode.reset()},resize:function(t,e){this.canvas.width=t,this.canvas.height=e},addCloud:function(){var t=this.bdayModeActive&&a(0,1)>0?this.spritePos.BALLOON:this.spritePos.CLOUD;this.clouds.push(new f(this.canvas,t,this.dimensions.WIDTH,t==this.spritePos.BALLOON))}},new t("#game",{ACCELERATION:.001,BG_CLOUD_SPEED:.2,BOTTOM_PAD:10,BOTTOM_PAD_BDAY:26,BDAY_FLASH_DURATION:1e3,BDAY_Y_POS_ADJUST:16,CLEAR_TIME:3e3,CLOUD_FREQUENCY:.5,GAMEOVER_CLEAR_TIME:750,GAP_COEFFICIENT:.6,GRAVITY:.6,INITIAL_JUMP_VELOCITY:12,INVERT_FADE_DURATION:12e3,INVERT_DISTANCE:700,MAX_BLINK_COUNT:3,MAX_CLOUDS:6,MAX_OBSTACLE_LENGTH:3,MAX_OBSTACLE_DUPLICATION:2,MAX_SPEED:13,MIN_JUMP_HEIGHT:35,MOBILE_SPEED_COEFFICIENT:1.2,RESOURCE_TEMPLATE_ID:"audio-resources",SPEED:6,SPEED_DROP_COEFFICIENT:3,ARCADE_MODE_INITIAL_TOP_POSITION:35,ARCADE_MODE_TOP_POSITION_PERCENT:.1})}();var eq={};eq=I("56kBL").getBundleURL("26HmX")+"sw.js","serviceWorker"in navigator&&(navigator.serviceWorker.controller||navigator.serviceWorker.register(eq,{scope:"./"})),new function(t){let e;let i=function(i){e&&(e.prompt(),e.userChoice.then(function(i){e=null,t.classList.remove("available")}).catch(function(i){e=null,t.classList.remove("available")}))};window.addEventListener("beforeinstallprompt",function(i){return(e=i).preventDefault(),t.classList.add("available"),!1}),window.addEventListener("appinstalled",function(i){e=null,t.classList.remove("available")}),t.addEventListener("click",i.bind(this)),t.addEventListener("touchend",i.bind(this))}(document.getElementById("installer"));